# 3조_기획서

# 1. 문제 배경

- 번개장터에서 제공하는 판매자 가이드북은 존재한다.
- 다만, 기초적인 내용과 제한사항을 제시하고 있으며 이조차도 현실적으로 지켜지지 않는 것이 문제이다.
- 이처럼 기초적인 가이드를 따르지 않는다는 것은 가이드북의 필요성이 느껴지지 않기 때문이다.
- 기업의 이윤 극대화를 위해서는 판매자들의 광고가 유저에게 전달되어야 하고 이를 위해 판매자용 가이드북을 개선할 필요가 있다.

![화면 캡처 2021-12-16 164054.png](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/%ED%99%94%EB%A9%B4_%EC%BA%A1%EC%B2%98_2021-12-16_164054.png)

![화면 캡처 2021-12-16 164322.png](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/%ED%99%94%EB%A9%B4_%EC%BA%A1%EC%B2%98_2021-12-16_164322.png)

---

# 2. 문제 정의

### 목적 : 번개장터 광고 수익 증가(eCPM)

- 실제 유저가 물건을 구매했는지 판단할 수 있는 데이터가 부족하기 때문에
    
    CTR을 높여서 번개장터의 광고 수익(eCPM)이 증가하는 것을 목표로 프로젝트 진행
    
- 기대수익(eCPM)이 높은 광고들의 특징을 분석
    - 판매자에게 광고 가이드를 제공하여 CTR이 증가하도록 함
    - 그에 따른 기업의 광고판매 수익 확대 예상

### 추천시스템 입/출력

- 입력 : 가상의 유저를 설정, 정보 입력(나이, 성별, 지금까지의 구매내역 등)
- 출력 : 그 유저가 특정 광고를 클릭할 확률(CTR)

### 결과물

- 유저의 특성에 따라(나이, 성별, 지금까지의 구매내역 등) 어떤 광고를 추천해줬을때 기대수익(eCPM)이 높을지 예측
- 또한 유저 특징(나이, 성별), 광고 카테고리(전자기기, 의류), 광고 시간, 광고에 들어가는 이미지, 텍스트 등에 따른 예상 클릭율(CTR)을 분석하여 광고주(판매자)에게 분석자료로 제공
    
    ![광고예측.png](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/%EA%B4%91%EA%B3%A0%EC%98%88%EC%B8%A1.png)
    

### 예상 결과물

1. 광고 로그 데이터를 학습하여 CTR을 예측하는 모델 개발 (LightGBM)
2. 가상의 유저(30세 여성, 30세 남성)을 설정하여 그 유저에게 어떤 광고를 추천해주었을때 기대수익(eCPM)이 높을지 예측해 봄
    - 30세 여성
        
        ![남성에 비해 원피스등 의류 광고의 기대수익이 높은 것을 확인](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/30%EC%84%B8_%EC%97%AC%EC%84%B1.jpg)
        
        남성에 비해 원피스등 의류 광고의 기대수익이 높은 것을 확인
        
    - 30세 남성
        
        ![여성에 비해 노트북, 핸드폰 등 전자기기의 비중이 높음](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/30%EC%84%B8_%EB%82%A8%EC%84%B1.jpg)
        
        여성에 비해 노트북, 핸드폰 등 전자기기의 비중이 높음
        

### 인사이트

- 남성에게는 전자기기 광고의 비중을, 여성에게는 의류 광고의 비중을 늘린다
- 또한 예측한 CTR을 바탕으로 판매자(광고주)에게 가이드라인 제시
    - 예1) 여성의 경우 제목이 짧은 광고의 클릭율이 높다
        
        → 원피스 판매자에게는 제목을 짧고 간결하게 쓰도록 가이드
        
    - 예2) 남성의 경우 이미지의 밝기가 밝을수록 클릭율이 높더라
        
        →  전자기기 판매자에게는 밝기가 높은 이미지를 사용하도록 가이드
        

---

# 3. 데이터 정의

### 데이터 설명

- 유형을 묶어 **로그특성, 광고, 판매자, 유저**로 구분
- 유형마다 content, adv, viewer를 앞에 넣어줌
- 크롤링을 통해 필요한 데이터 수집

### 유형별 설명

1. **로그특성**
    
    ![Untitled](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/Untitled.png)
    
2. **광고**
    
    ![contentt.PNG](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/contentt.png)
    
3. **크롤링** 
    
    ![notion_cap.PNG](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/notion_cap.png)
    
    content_status                   : 게시글 상태(판매중, 거래완료, 삭제) 
    content_b_pay                   : 번개페이 여부(0: 없음, 1: 있음) 
    content_place                    : 거래지역 
    content_text                       : 광고 상품 설명 
    content_delivery_fee          : 배송비 여부(배송비 포함, 배송비 별도) 
    content_img_url                 : 이미지 링크
    
4. **판매자**
    
    ![Untitled](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/Untitled%201.png)
    
5. **유저**
    
    ![화면 캡처 2021-12-16 170409.png](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/%ED%99%94%EB%A9%B4_%EC%BA%A1%EC%B2%98_2021-12-16_170409.png)
    
- merged data
    
    ![merge.PNG](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/merge.png)
    

---

## EDA

- Data 시각화를 통해 얻어낸 특이사항
    1. 신고건수가 거래완료인 상품보다 판매중인 상품의 수가 더 높음
        
        ![Untitled](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/Untitled%202.png)
        
    2. 시계 / 쥬얼리 카테고리에 2~40대의 남성이 많은 관심을 보이지만, 신고의 수는 적음
        
        ![Untitled](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/Untitled%203.png)
        
    3. 신고 수가 높은 카테고리는 즉각적인 사용(상품권) 또는 지속적인 효과(미용품)를 가진 제품이 많음
        
        ![왼쪽 - 이상치 제거 전,  오른쪽 - 이상치 제거 후(신고 수가 압도적으로 높은 2건)](3%E1%84%8C%E1%85%A9_%E1%84%80%E1%85%B5%E1%84%92%E1%85%AC%E1%86%A8%E1%84%89%E1%85%A5%20606084e6f6c944939c23722a56c59ae2/%EC%B9%B4%ED%85%8C%EA%B3%A0%EB%A6%AC%EB%B3%84_%ED%8F%89%EA%B7%A0_%EC%8B%A0%EA%B3%A0(%EB%B3%80%ED%99%94).png)
        
        왼쪽 - 이상치 제거 전,  오른쪽 - 이상치 제거 후(신고 수가 압도적으로 높은 2건)
        
    
    ---
    

# 4. 기존 방법론 조사

### 번개장터의 광고 현황

- 번개장터의 광고체계는 외부광고, 내부광고로 나누어져 있음
- 내부광고는 광고 지면에 따른 **분류, 과금방식**에 따른 분류로 나눠짐
- 과금 방식에 따라 크게 두가지의 광고 상품이 있음
    1. 키워드 베이직 
        - CPT : 시간 단위 과금, 고정된 광고비로 간편하게 집행
        - 노출 지면에서 키워드 프리미엄 다음에 노출
    2. 키워드 프리미엄 
        - CPC : 1클릭당 광고비가 발생
        - 노출 지면 상단에 노출
        - 광고 타겟(연령, 성별, 지역) 선택, 관련 광고 키워드 관리 가능
    - 노출 순위 : CTR, 키워드 적합도, 예산(bid)를 고려하여 결정

### Click Prediction

- CTR(Click Through Rate), 광고를 클릭할 확률을 예측하는 것
- Click Prediction을 하는 이유?
    - 고객에게 매력적인 광고 상품을 적절하게 노출할 수 있음
    - eCPM(1000회 노출 당 광고비)를 추측해 광고의 효율을 명확하게 측정할 수 있음
- 번개장터에서는 LightGBM을 사용하여 CTR 예측 (2020년 여름 기준)
    - 종합적인 지표(성능, 속도)에서 Logistic Regression < 그외 앙상블(Xgboost, RandomForest) < DeepFM ≤ LightGBM 순이었다고 함
    
- Reference
    
    [번개장터 기술블로그](https://medium.com/bunjang-tech-blog)
    
    [번개장터 판매자센터](https://m.bunjang.co.kr/seller)
    
    패스트캠퍼스 THE-RED 강의
    

---

# 5. 사용 모델 리스트

### CTR 예측 모델

1. LightGBM
    - Tree 기반(GBDT) 머신러닝 알고리즘
    - 실제 번개장터에서 사용중인 모델이라고 함
2. DeepFM 
    - 딥러닝 기반으로 CTR을 예측하는 모델
    - Kaggle의 CTR Prediction에서 좋은 결과를 보여줌
    - 번개장터에서는 계산 속도 때문에 머신러닝 기반의 LightGBM을 사용하지만 성능면에서는 DeepFM이 더 좋을 것이라고 추정
- 두 모델을 모두 적용해보고 성능, 속도가 얼마나 차이 나는지 비교하여 우리에게 알맞는 모델 선택할 예정

### 평가 지표

- AUC (Area Under ROC)
- RIG (Relative Information Gain)

### 그 후 인사이트

- CNN : 광고 이미지 분석
- RNN : 광고 제목, 설명 및 키워드 분석
- 광고 노출 로그외의 데이터가 부족하기 때문에 주로 미리 학습된 모델을 가져와서 사용할 예정

---

# 6. 프로젝트 환경

1. Git-hub을 작업 내용 백업
2. Colab, Jupyter-Notebook을 통해 작업 내용 공유
3. Notion을 통해 진행 상황 공유 및 기획서 작성
4. data는 무겁거나, 보안 등의 문제 Google Drive로 공유